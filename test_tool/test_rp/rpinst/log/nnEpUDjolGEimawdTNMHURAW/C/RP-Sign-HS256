Profile: ['C']
Test ID: userinfo
Test description: Simple code profile with HS256 signatures
Timestamp: 2016-05-24T14:58:11Z

============================================================

Trace output

Trace init: Tue, 24 May 2016 14:57:51 +0000
0.001015 Conversation initiated
1.847455 Running 'Login'
1.847500 Doing GET on https://localhost:8088/rp?issuer=https%3A%2F%2Flocalhost%3A8091%2FnnEpUDjolGEimawdTNMHURAW
4.303232 Running 'ConfigurationResponse'
6.414819 Assert VerifyRegistrationPublicKeyRegistration
7.206901 Assert VerifyRegistrationRedirectUriScheme
7.917959 Assert VerifyRegistrationResponseTypes
8.871704 Running 'RegistrationResponse'
8.905906 Got a 302 response
8.906358 Received HTML: <html>
<head><title>Redirecting to https://localhost:8091/nnEpUDjolGEimawdTNMHURAW/authorization?response_type=code&redirect_uri=https%3A%2F%2Flocalhost%3A8088%2Fauthz_cb%2Fea6000f1094cf345f80191b4de3e4f3a7d19e27f42d1af75bbbd931f808b64bb&state=mkED6f24617AyJUZ94jvq0edF6zcek9W&nonce=Mxt8C5016On2uPeszbJPKYRWApnXw3Yw&scope=openid+profile+email+address+phone&client_id=Z1nphqYyPVvW</title></head>
<body>
You are being redirected to <a href="https://localhost:8091/nnEpUDjolGEimawdTNMHURAW/authorization?response_type=code&redirect_uri=https%3A%2F%2Flocalhost%3A8088%2Fauthz_cb%2Fea6000f1094cf345f80191b4de3e4f3a7d19e27f42d1af75bbbd931f808b64bb&state=mkED6f24617AyJUZ94jvq0edF6zcek9W&nonce=Mxt8C5016On2uPeszbJPKYRWApnXw3Yw&scope=openid+profile+email+address+phone&client_id=Z1nphqYyPVvW">https://localhost:8091/nnEpUDjolGEimawdTNMHURAW/authorization?response_type=code&redirect_uri=https%3A%2F%2Flocalhost%3A8088%2Fauthz_cb%2Fea6000f1094cf345f80191b4de3e4f3a7d19e27f42d1af75bbbd931f808b64bb&state=mkED6f24617AyJUZ94jvq0edF6zcek9W&nonce=Mxt8C5016On2uPeszbJPKYRWApnXw3Yw&scope=openid+profile+email+address+phone&client_id=Z1nphqYyPVvW</a>
</body>
</html>
11.311162 Assert VerifyAuthorizationRedirectUri
12.088166 Assert VerifyAuthorizationStateEntropy
13.262208 Assert VerifyAuthorizationOfflineAccess
14.119067 Running 'AuthorizationResponse'
14.121462 {'client_id': 'Z1nphqYyPVvW', 'nonce': 'Mxt8C5016On2uPeszbJPKYRWApnXw3Yw', 'response_type': 'code', 'state': 'mkED6f24617AyJUZ94jvq0edF6zcek9W', 'redirect_uri': 'https://localhost:8088/authz_cb/ea6000f1094cf345f80191b4de3e4f3a7d19e27f42d1af75bbbd931f808b64bb', 'scope': 'openid email phone'}
16.627788 Running 'AccessTokenResponse'
19.576752 Running 'UserInfoResponse'



============================================================

Conditions

RegistrationResponse:verify-registration-public_key-registration: status=OK
RegistrationResponse:verify-registration-redirect_uri-scheme: status=OK
RegistrationResponse:verify-registration-response_types: status=OK
AuthorizationResponse:verify-authorization-redirect_uri: status=OK
AuthorizationResponse:verify-authorization-state-entropy: status=OK
AuthorizationResponse:verify-authorization-offline-access: status=OK
Done: status=OK



============================================================

Events
1464101872.251584:operation:<class 'otest.rp.operation.Login'>
1464101873.319206:start_page:https://localhost:8088/rp?issuer=https%3A%2F%2Flocalhost%3A8091%2FnnEpUDjolGEimawdTNMHURAW
1464101874.066481:request:
1464101874.933552:operation:<class 'otest.rp.operation.ConfigurationResponse'>
1464101875.779046:response:{"request_parameter_supported": true, "require_request_uri_registration": true, "jwks_uri": "https://localhost:8091/nnEpUDjolGEimawdTNMHURAW/static/jwks.json", "userinfo_signing_alg_values_supported": ["HS256"], "subject_types_supported": ["pairwise"], "issuer": "https://localhost:8091/nnEpUDjolGEimawdTNMHURAW", "token_endpoint": "https://localhost:8091/nnEpUDjolGEimawdTNMHURAW/token", "version": "3.0", "authorization_endpoint": "https://localhost:8091/nnEpUDjolGEimawdTNMHURAW/authorization", "claim_types_supported": ["normal"], "scopes_supported": ["email", "offline_access", "openid", "phone"], "claims_parameter_supported": true, "response_types_supported": ["code", "id_token token", "token"], "revocation_endpoint": "https://localhost:8091/nnEpUDjolGEimawdTNMHURAW/revocation", "request_uri_parameter_supported": false, "grant_types_supported": ["authorization_code", "implicit", "urn:ietf:params:oauth:grant-type:jwt-bearer"], "userinfo_endpoint": "https://localhost:8091/nnEpUDjolGEimawdTNMHURAW/userinfo", "request_object_signing_alg_values_supported": ["HS256"], "introspection_endpoint": "https://localhost:8091/nnEpUDjolGEimawdTNMHURAW/introspection", "claims_supported": ["email", "email_verified", "name", "phone_number", "phone_number_verified", "sub"], "token_endpoint_auth_methods_supported": ["client_secret_basic"], "id_token_signing_alg_values_supported": ["HS256"], "token_endpoint_auth_signing_alg_values_supported": ["HS256"], "response_modes_supported": ["form_post", "fragment", "query"], "clientinfo_endpoint": "https://localhost:8091/nnEpUDjolGEimawdTNMHURAW/clientinfo", "registration_endpoint": "https://localhost:8091/nnEpUDjolGEimawdTNMHURAW/registration", "end_session_endpoint": "https://localhost:8091/nnEpUDjolGEimawdTNMHURAW/end_session"}
1464101876.466415:request:{"jwks_uri": "https://localhost:8088/static/jwks_uri.json", "application_type": "web", "post_logout_redirect_uris": ["https://localhost:8088/logout_success/ea6000f1094cf345f80191b4de3e4f3a7d19e27f42d1af75bbbd931f808b64bb"], "response_types": ["code"], "redirect_uris": ["https://localhost:8088/authz_cb/ea6000f1094cf345f80191b4de3e4f3a7d19e27f42d1af75bbbd931f808b64bb"], "contacts": ["ops@example.com"]}
1464101876.467023:protocol request:{'application_type': 'web', 'response_types': ['code'], 'jwks_uri': 'https://localhost:8088/static/jwks_uri.json', 'redirect_uris': ['https://localhost:8088/authz_cb/ea6000f1094cf345f80191b4de3e4f3a7d19e27f42d1af75bbbd931f808b64bb'], 'post_logout_redirect_uris': ['https://localhost:8088/logout_success/ea6000f1094cf345f80191b4de3e4f3a7d19e27f42d1af75bbbd931f808b64bb'], 'contacts': ['ops@example.com']}
1464101877.256203:operation:<class 'otest.rp.operation.RegistrationResponse'>
1464101878.678106:condition:RegistrationResponse:verify-registration-public_key-registration: status=OK
1464101879.388584:condition:RegistrationResponse:verify-registration-redirect_uri-scheme: status=OK
1464101880.343382:condition:RegistrationResponse:verify-registration-response_types: status=OK
1464101880.37759:http response:<aatest.events.HTTPResponse object at 0x107ed2550>
1464101880.377662:Cookie:localhost.beaker.session.id=ad8c419c3e3041dc904175d8e9ca4c06; Path=/
1464101880.378039:redirect url:https://localhost:8091/nnEpUDjolGEimawdTNMHURAW/authorization?response_type=code&redirect_uri=https%3A%2F%2Flocalhost%3A8088%2Fauthz_cb%2Fea6000f1094cf345f80191b4de3e4f3a7d19e27f42d1af75bbbd931f808b64bb&state=mkED6f24617AyJUZ94jvq0edF6zcek9W&nonce=Mxt8C5016On2uPeszbJPKYRWApnXw3Yw&scope=openid+profile+email+address+phone&client_id=Z1nphqYyPVvW
1464101881.272196:request:response_type=code&redirect_uri=https%3A%2F%2Flocalhost%3A8088%2Fauthz_cb%2Fea6000f1094cf345f80191b4de3e4f3a7d19e27f42d1af75bbbd931f808b64bb&state=mkED6f24617AyJUZ94jvq0edF6zcek9W&nonce=Mxt8C5016On2uPeszbJPKYRWApnXw3Yw&scope=openid+profile+email+address+phone&client_id=Z1nphqYyPVvW
1464101881.272954:protocol request:{'client_id': 'Z1nphqYyPVvW', 'nonce': 'Mxt8C5016On2uPeszbJPKYRWApnXw3Yw', 'response_type': 'code', 'state': 'mkED6f24617AyJUZ94jvq0edF6zcek9W', 'redirect_uri': 'https://localhost:8088/authz_cb/ea6000f1094cf345f80191b4de3e4f3a7d19e27f42d1af75bbbd931f808b64bb', 'scope': 'openid profile email address phone'}
1464101882.039139:operation:<class 'otest.rp.operation.AuthorizationResponse'>
1464101883.559352:condition:AuthorizationResponse:verify-authorization-redirect_uri: status=OK
1464101884.733435:condition:AuthorizationResponse:verify-authorization-state-entropy: status=OK
1464101885.590735:condition:AuthorizationResponse:verify-authorization-offline-access: status=OK
1464101886.56586:HTTP_AUTHORIZATION:Basic WjFucGhxWXlQVnZXOmFhNWVhMjVkYTMxNjM5MGVlNWI0ZGVjNjU1ZDczZjQ4OTRhMDg1NjcwZmY5MmMzYmRkYjlmNDhh
1464101886.566365:request:code=uppUUXxdxlyEr%2FqVb2A%2FWP4jf%2FZSAPe1Jv3%2BWmftFsL02GV62CjiMDDyksno6W0QYgf0WAVEFVtJ1yuDtJ%2FwQpimEffBKFWgD17%2Fq2em%2FSdlA4fJU1CTCps86%2B6%2BaWNWy%2FfYWoQOh%2FWMtnaHSqqaFA%3D%3D&grant_type=authorization_code&redirect_uri=https%3A%2F%2Flocalhost%3A8088%2Fauthz_cb%2Fea6000f1094cf345f80191b4de3e4f3a7d19e27f42d1af75bbbd931f808b64bb&state=mkED6f24617AyJUZ94jvq0edF6zcek9W&scope=openid+email+phone
1464101886.566824:protocol request:{'state': 'mkED6f24617AyJUZ94jvq0edF6zcek9W', 'redirect_uri': 'https://localhost:8088/authz_cb/ea6000f1094cf345f80191b4de3e4f3a7d19e27f42d1af75bbbd931f808b64bb', 'grant_type': 'authorization_code', 'scope': 'openid email phone', 'code': 'uppUUXxdxlyEr/qVb2A/WP4jf/ZSAPe1Jv3+WmftFsL02GV62CjiMDDyksno6W0QYgf0WAVEFVtJ1yuDtJ/wQpimEffBKFWgD17/q2em/SdlA4fJU1CTCps86+6+aWNWy/fYWoQOh/WMtnaHSqqaFA=='}
1464101887.402567:operation:<class 'otest.rp.operation.AccessTokenResponse'>
1464101889.523558:request:access_token=eyJhbGciOiJSUzI1NiIsImtpZCI6ImExIn0.eyJpYXQiOiAxNDY0MTAxODg4LCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0IiwgImF1ZCI6IFsiWjFucGhxWXlQVnZXIl0sICJqdGkiOiAiVC1jOTIxMGY0ZWZlZWU0NTg1YWM1YzEzMTRhN2Y2YWM3OCIsICJhenAiOiAiWjFucGhxWXlQVnZXIiwgImtpZCI6ICJhMSIsICJleHAiOiAxNDY0MTA1NDg4LCAic3ViIjogIjFiMmZjOTM0MWExNmFlNGUzMDA4Mjk2NWQ1MzdhZTQ3YzIxYTBmMjdmZDQzZWFiNzgzMzBlZDgxNzUxYWU2ZGIiLCAic2NvcGUiOiAib3BlbmlkIGVtYWlsIHBob25lIn0.L1S_foqCivNnkpI9TZ2M6vKhkyzVty8iztBnjKvCPFWK6-C9zl2P1J-FcuCor5LY0Yz08SPSWTgPhwaWEju8nRZS3ong4oSbXpKbaAF7cI6mmiaus96TuLRn3w6Bg0HOyBybVjzV8ZlctOFbd_h5y9yeLlCrziVwtfE_w76NgOg
1464101889.523814:protocol request:{'access_token': 'eyJhbGciOiJSUzI1NiIsImtpZCI6ImExIn0.eyJpYXQiOiAxNDY0MTAxODg4LCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0IiwgImF1ZCI6IFsiWjFucGhxWXlQVnZXIl0sICJqdGkiOiAiVC1jOTIxMGY0ZWZlZWU0NTg1YWM1YzEzMTRhN2Y2YWM3OCIsICJhenAiOiAiWjFucGhxWXlQVnZXIiwgImtpZCI6ICJhMSIsICJleHAiOiAxNDY0MTA1NDg4LCAic3ViIjogIjFiMmZjOTM0MWExNmFlNGUzMDA4Mjk2NWQ1MzdhZTQ3YzIxYTBmMjdmZDQzZWFiNzgzMzBlZDgxNzUxYWU2ZGIiLCAic2NvcGUiOiAib3BlbmlkIGVtYWlsIHBob25lIn0.L1S_foqCivNnkpI9TZ2M6vKhkyzVty8iztBnjKvCPFWK6-C9zl2P1J-FcuCor5LY0Yz08SPSWTgPhwaWEju8nRZS3ong4oSbXpKbaAF7cI6mmiaus96TuLRn3w6Bg0HOyBybVjzV8ZlctOFbd_h5y9yeLlCrziVwtfE_w76NgOg'}
1464101890.351615:operation:<class 'otest.rp.operation.UserInfoResponse'>
1464101891.054117:condition:Done: status=OK

============================================================

RESULT: PASSED
